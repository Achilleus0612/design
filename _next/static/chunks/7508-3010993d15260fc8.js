try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5797fe74-99ef-44b3-86a6-6136fca7b124",e._sentryDebugIdIdentifier="sentry-dbid-5797fe74-99ef-44b3-86a6-6136fca7b124")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7508],{807:(e,t,a)=>{a.d(t,{y:()=>i});var r=a(64159),n=a(7672);async function i(e,{address:t,blockTag:a="latest",blockNumber:i}){let s=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof i?(0,n.cK)(i):a]},{dedupe:!!i});return(0,r.ME)(s)}},5722:(e,t,a)=>{a.d(t,{N:()=>n,V:()=>i});var r=a(84698);class n extends r.C{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class i extends r.C{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}},9694:(e,t,a)=>{a.d(t,{v:()=>y});var r=a(10599),n=a(95413),i=a(46729),s=a(59829),o=a(54914),l=a(82330),c=a(73325),u=a(21697),d=a(44694),f=a(57521),m=a(51280),h=a(78764),b=a(76174),p=a(95148);let g=new f.A(128);async function y(e,t){let{account:a=e.account,chain:f=e.chain,accessList:y,authorizationList:w,blobs:v,data:P,gas:x,gasPrice:B,maxFeePerBlobGas:I,maxFeePerGas:G,maxPriorityFeePerGas:k,nonce:T,type:F,value:N,...E}=t;if(void 0===a)throw new n.T({docsPath:"/docs/actions/wallet/sendTransaction"});let M=a?(0,r.J)(a):null;try{(0,m.c)(t);let a=await (async()=>t.to?t.to:null!==t.to&&w&&w.length>0?await (0,s.g)({authorization:w[0]}).catch(()=>{throw new i.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(M?.type==="json-rpc"||null===M){let t;null!==f&&(t=await (0,d.T)(e,h.T,"getChainId")({}),(0,o.v)({currentChainId:t,chain:f}));let r=e.chain?.formatters?.transactionRequest?.format,n=(r||u.Bv)({...(0,c.o)(E,{format:r}),accessList:y,authorizationList:w,blobs:v,chainId:t,data:P,from:M?.address,gas:x,gasPrice:B,maxFeePerBlobGas:I,maxFeePerGas:G,maxPriorityFeePerGas:k,nonce:T,to:a,type:F,value:N}),i=g.get(e.uid);try{return await e.request({method:i?"wallet_sendTransaction":"eth_sendTransaction",params:[n]},{retryCount:0})}catch(t){if(!1===i)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[n]},{retryCount:0}).then(t=>(g.set(e.uid,!0),t)).catch(a=>{if("MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name)throw g.set(e.uid,!1),t;throw a});throw t}}if(M?.type==="local"){let t=await (0,d.T)(e,b.ft,"prepareTransactionRequest")({account:M,accessList:y,authorizationList:w,blobs:v,chain:f,data:P,gas:x,gasPrice:B,maxFeePerBlobGas:I,maxFeePerGas:G,maxPriorityFeePerGas:k,nonce:T,nonceManager:M.nonceManager,parameters:[...b.MM,"sidecars"],type:F,value:N,...E,to:a}),r=f?.serializers?.transaction,n=await M.signTransaction(t,{serializer:r});return await (0,d.T)(e,p.L,"sendRawTransaction")({serializedTransaction:n})}if(M?.type==="smart")throw new n.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new n.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:M?.type})}catch(e){if(e instanceof n.Z)throw e;throw(0,l.p)(e,{...t,account:M,chain:t.chain||void 0})}}},12528:(e,t,a)=>{a.d(t,{b4:()=>i,gU:()=>o,uP:()=>s});var r=a(64159),n=a(11394);let i={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function s(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,r.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,r.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?i[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return+(t.v%2n===0n)}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}let o=(0,n.q)("transaction",s)},13617:(e,t,a)=>{a.d(t,{PK:()=>l,iq:()=>i,uP:()=>o,zF:()=>s});var r=a(77262),n=a(46729);class i extends n.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class s extends n.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class o extends n.C{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class l extends n.C{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${r.E}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}},15853:(e,t,a)=>{a.d(t,{g:()=>s});var r=a(45363),n=a(7672),i=a(80829);async function s(e,{blockHash:t,blockNumber:a,blockTag:o,includeTransactions:l}={}){let c=l??!1,u=void 0!==a?(0,n.cK)(a):void 0,d=null;if(!(d=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[u||(o??"latest"),c]},{dedupe:!!u})))throw new r.l({blockHash:t,blockNumber:a});return(e.chain?.formatters?.block?.format||i.$)(d)}},17782:(e,t,a)=>{a.d(t,{RR:()=>o,pw:()=>s,sM:()=>i});var r=a(49564),n=a(46729);class i extends n.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class s extends n.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class o extends n.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,r.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},24733:(e,t,a)=>{a.d(t,{w:()=>n});var r=a(73769);function n(e,{emitOnBegin:t,initialWaitTime:a,interval:n}){let i=!0,s=()=>i=!1;return(async()=>{let o;t&&(o=await e({unpoll:s}));let l=await a?.(o)??n;await (0,r.u)(l);let c=async()=>{i&&(await e({unpoll:s}),await (0,r.u)(n),c())};c()})(),s}},24869:(e,t,a)=>{a.d(t,{S:()=>i});var r=a(29966),n=a(7672);function i(e){let{kzg:t}=e,a=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),i="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,r.aT)(e)):e.blobs,s=[];for(let e of i)s.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===a?s:s.map(e=>(0,n.My)(e))}},25664:(e,t,a)=>{a.d(t,{x:()=>s});var r=a(4062),n=a(7672),i=a(12528);async function s(e,{blockHash:t,blockNumber:a,blockTag:s,hash:o,index:l}){let c=s||"latest",u=void 0!==a?(0,n.cK)(a):void 0,d=null;if(o?d=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,n.cK)(l)]},{dedupe:!0}):(u||c)&&(d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,(0,n.cK)(l)]},{dedupe:!!u})),!d)throw new r.Kz({blockHash:t,blockNumber:a,blockTag:c,hash:o,index:l});return(e.chain?.formatters?.transaction?.format||i.uP)(d)}},29514:(e,t,a)=>{a.d(t,{t:()=>i});var r=a(29966),n=a(7672);function i(e){let{kzg:t}=e,a=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),i="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,r.aT)(e)):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,r.aT)(e)):e.commitments,o=[];for(let e=0;e<i.length;e++){let a=i[e],r=s[e];o.push(Uint8Array.from(t.computeBlobKzgProof(a,r)))}return"bytes"===a?o:o.map(e=>(0,n.My)(e))}},36421:(e,t,a)=>{a.d(t,{q:()=>c});var r=a(64159),n=a(44694),i=a(63748),s=a(24733),o=a(2781),l=a(77665);function c(e,{emitOnBegin:t=!1,emitMissed:a=!1,onBlockNumber:c,onError:u,poll:d,pollingInterval:f=e.pollingInterval}){let m;return(void 0!==d?d:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{let r=(0,o.A)(["watchBlockNumber",e.uid,t,a,f]);return(0,i.lB)(r,{onBlockNumber:c,onError:u},r=>(0,s.w)(async()=>{try{let t=await (0,n.T)(e,l.G,"getBlockNumber")({cacheTime:0});if(m){if(t===m)return;if(t-m>1&&a)for(let e=m+1n;e<t;e++)r.onBlockNumber(e,m),m=e}(!m||t>m)&&(r.onBlockNumber(t,m),m=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:f}))})():(()=>{let n=(0,o.A)(["watchBlockNumber",e.uid,t,a]);return(0,i.lB)(n,{onBlockNumber:c,onError:u},t=>{let a=!0,n=()=>a=!1;return(async()=>{try{let i=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await i.subscribe({params:["newHeads"],onData(e){if(!a)return;let n=(0,r.uU)(e.result?.number);t.onBlockNumber(n,m),m=n},onError(e){t.onError?.(e)}});n=s,a||n()}catch(e){u?.(e)}})(),()=>n()})})()}},36864:(e,t,a)=>{a.d(t,{x:()=>d});var r=a(4377),n=a(66328),i=a(70574),s=a(14436),o=a(64159),l=a(7672);async function c({hash:e,signature:t}){let r=(0,i.q)(e)?e:(0,l.nj)(e),{secp256k1:n}=await a.e(7559).then(a.bind(a,97559)),c=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:a,v:r,yParity:i}=t,s=u(Number(i??r));return new n.Signature((0,o.uU)(e),(0,o.uU)(a)).addRecoveryBit(s)}let e=(0,i.q)(t)?t:(0,l.nj)(t);if(65!==(0,s.E)(e))throw Error("invalid signature length");let a=u((0,o.ME)(`0x${e.slice(130)}`));return n.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(a)})().recoverPublicKey(r.substring(2)).toHex(!1);return`0x${c}`}function u(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function d({hash:e,signature:t}){var a=await c({hash:e,signature:t});let i=(0,n.S)(`0x${a.substring(4)}`).substring(26);return(0,r.o)(`0x${i}`)}},41303:(e,t,a)=>{a.d(t,{O:()=>c,_:()=>l});var r=a(17782),n=a(44694),i=a(70112),s=a(15853),o=a(56162);async function l(e,t){return c(e,t)}async function c(e,t){let{block:a,chain:l=e.chain,request:c,type:u="eip1559"}=t||{},d=await (async()=>"function"==typeof l?.fees?.baseFeeMultiplier?l.fees.baseFeeMultiplier({block:a,client:e,request:c}):l?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new r.sM;let f=d.toString().split(".")[1]?.length??0,m=10**f,h=e=>e*BigInt(Math.ceil(d*m))/BigInt(m),b=a||await (0,n.T)(e,s.g,"getBlock")({});if("function"==typeof l?.fees?.estimateFeesPerGas){let t=await l.fees.estimateFeesPerGas({block:a,client:e,multiply:h,request:c,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof b.baseFeePerGas)throw new r.pw;let t="bigint"==typeof c?.maxPriorityFeePerGas?c.maxPriorityFeePerGas:await (0,i.N)(e,{block:b,chain:l,request:c}),a=h(b.baseFeePerGas);return{maxFeePerGas:c?.maxFeePerGas??a+t,maxPriorityFeePerGas:t}}return{gasPrice:c?.gasPrice??h(await (0,n.T)(e,o.L,"getGasPrice")({}))}}},42470:(e,t,a)=>{a.d(t,{s:()=>o});var r=a(33500),n=a(70574),i=a(29966),s=a(7672);function o(e,t){let a=(0,r.sc)((0,n.q)(e,{strict:!1})?(0,i.ZJ)(e):e);return"bytes"===(t||"hex")?a:(0,s.nj)(a)}},43582:(e,t,a)=>{a.d(t,{e:()=>r});function r(e,{args:t,eventName:a}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...a?{args:t,eventName:a}:{}}}},45363:(e,t,a)=>{a.d(t,{l:()=>n});var r=a(46729);class n extends r.C{constructor({blockHash:e,blockNumber:t}){let a="Block";e&&(a=`Block at hash "${e}"`),t&&(a=`Block at number "${t}"`),super(`${a} could not be found.`,{name:"BlockNotFoundError"})}}},54429:(e,t,a)=>{a.d(t,{L:()=>n});var r=a(4062);function n(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new r.Vg({transaction:e})}},54914:(e,t,a)=>{a.d(t,{v:()=>n});var r=a(78059);function n({chain:e,currentChainId:t}){if(!e)throw new r.jF;if(t!==e.id)throw new r.EH({chain:e,currentChainId:t})}},56162:(e,t,a)=>{a.d(t,{L:()=>r});async function r(e){return BigInt(await e.request({method:"eth_gasPrice"}))}},59772:(e,t,a)=>{a.d(t,{n:()=>h});var r=a(45363),n=a(4062),i=a(44694),s=a(63748),o=a(3241),l=a(508),c=a(2781),u=a(15853),d=a(25664),f=a(79992),m=a(36421);async function h(e,{confirmations:t=1,hash:a,onReplaced:h,pollingInterval:b=e.pollingInterval,retryCount:p=6,retryDelay:g=({count:e})=>200*~~(1<<e),timeout:y=18e4}){let w,v,P,x,B,I=(0,c.A)(["waitForTransactionReceipt",e.uid,a]),G=!1,{promise:k,resolve:T,reject:F}=(0,o.Y)(),N=y?setTimeout(()=>{B(),x(),F(new n.WA({hash:a}))},y):void 0;return x=(0,s.lB)(I,{onReplaced:h,resolve:T,reject:F},s=>{B=(0,i.T)(e,m.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:b,async onBlockNumber(o){let c=e=>{clearTimeout(N),B(),e(),x()},m=o;if(!G)try{if(P){if(t>1&&(!P.blockNumber||m-P.blockNumber+1n<t))return;c(()=>s.resolve(P));return}if(w||(G=!0,await (0,l.b)(async()=>{(w=await (0,i.T)(e,d.x,"getTransaction")({hash:a})).blockNumber&&(m=w.blockNumber)},{delay:g,retryCount:p}),G=!1),P=await (0,i.T)(e,f.h,"getTransactionReceipt")({hash:a}),t>1&&(!P.blockNumber||m-P.blockNumber+1n<t))return;c(()=>s.resolve(P))}catch(a){if(a instanceof n.Kz||a instanceof n.Kc){if(!w){G=!1;return}try{v=w,G=!0;let a=await (0,l.b)(()=>(0,i.T)(e,u.g,"getBlock")({blockNumber:m,includeTransactions:!0}),{delay:g,retryCount:p,shouldRetry:({error:e})=>e instanceof r.l});G=!1;let n=a.transactions.find(({from:e,nonce:t})=>e===v.from&&t===v.nonce);if(!n||(P=await (0,i.T)(e,f.h,"getTransactionReceipt")({hash:n.hash}),t>1&&(!P.blockNumber||m-P.blockNumber+1n<t)))return;let o="replaced";n.to===v.to&&n.value===v.value&&n.input===v.input?o="repriced":n.from===n.to&&0n===n.value&&(o="cancelled"),c(()=>{s.onReplaced?.({reason:o,replacedTransaction:v,transaction:n,transactionReceipt:P}),s.resolve(P)})}catch(e){c(()=>s.reject(e))}}else c(()=>s.reject(a))}}})}),k}},59829:(e,t,a)=>{a.d(t,{g:()=>c});var r=a(36864),n=a(86673),i=a(29966),s=a(7672),o=a(72455),l=a(66328);async function c(e){let{authorization:t,signature:a}=e;return(0,r.x)({hash:function(e){let{chainId:t,nonce:a,to:r}=e,c=e.contractAddress??e.address,u=(0,l.S)((0,n.aP)(["0x05",(0,o.EQ)([t?(0,s.cK)(t):"0x",c,a?(0,s.cK)(a):"0x"])]));return"bytes"===r?(0,i.aT)(u):u}(t),signature:a??t})}},61749:(e,t,a)=>{a.d(t,{d:()=>i});var r=a(7672),n=a(42470);function i(e){let{commitments:t,version:a}=e,i=e.to??("string"==typeof t[0]?"hex":"bytes"),s=[];for(let e of t)s.push(function(e){let{commitment:t,version:a=1}=e,i=e.to??("string"==typeof t?"hex":"bytes"),s=(0,n.s)(t,"bytes");return s.set([a],0),"bytes"===i?s:(0,r.My)(s)}({commitment:e,to:i,version:a}));return s}},63748:(e,t,a)=>{a.d(t,{lB:()=>s});let r=new Map,n=new Map,i=0;function s(e,t,a){let s=++i,o=()=>r.get(e)||[],l=()=>{let t=o();r.set(e,t.filter(e=>e.id!==s))},c=()=>{let t=o();if(!t.some(e=>e.id===s))return;let a=n.get(e);1===t.length&&a&&a(),l()},u=o();if(r.set(e,[...u,{id:s,fns:t}]),u&&u.length>0)return c;let d={};for(let e in t)d[e]=(...t)=>{let a=o();if(0!==a.length)for(let r of a)r.fns[e]?.(...t)};let f=a(d);return"function"==typeof f&&n.set(e,f),c}},70112:(e,t,a)=>{a.d(t,{N:()=>c,b:()=>l});var r=a(17782),n=a(64159),i=a(44694),s=a(15853),o=a(56162);async function l(e,t){return c(e,t)}async function c(e,t){let{block:a,chain:l=e.chain,request:c}=t||{};try{let t=l?.fees?.maxPriorityFeePerGas??l?.fees?.defaultPriorityFee;if("function"==typeof t){let r=a||await (0,i.T)(e,s.g,"getBlock")({}),n=await t({block:r,client:e,request:c});if(null===n)throw Error();return n}if(void 0!==t)return t;let r=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,n.uU)(r)}catch{let[t,n]=await Promise.all([a?Promise.resolve(a):(0,i.T)(e,s.g,"getBlock")({}),(0,i.T)(e,o.L,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new r.pw;let l=n-t.baseFeePerGas;if(l<0n)return 0n;return l}}},72455:(e,t,a)=>{a.d(t,{EQ:()=>o});var r=a(46729),n=a(43506),i=a(29966),s=a(7672);function o(e,t="hex"){let a=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),a=l(t);return{length:t<=55?1+t:1+a+t,encode(r){for(let{encode:n}of(t<=55?r.pushByte(192+t):(r.pushByte(247+a),1===a?r.pushUint8(t):2===a?r.pushUint16(t):3===a?r.pushUint24(t):r.pushUint32(t)),e))n(r)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?(0,i.aT)(e):e,a=l(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+a+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+a),1===a?e.pushUint8(t.length):2===a?e.pushUint16(t.length):3===a?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),r=(0,n.l)(new Uint8Array(a.length));return(a.encode(r),"hex"===t)?(0,s.My)(r.bytes):r.bytes}function l(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new r.C("Length is too large.")}},73096:(e,t,a)=>{a.d(t,{Lj:()=>o,WB:()=>c,uL:()=>l});var r=a(64159),n=a(11394),i=a(43582),s=a(12528);let o={"0x0":"reverted","0x1":"success"};function l(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,i.e)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,r.ME)(e.transactionIndex):null,status:e.status?o[e.status]:null,type:e.type?s.b4[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}let c=(0,n.q)("transactionReceipt",l)},76174:(e,t,a)=>{a.d(t,{MM:()=>g,ft:()=>w});var r=a(10599),n=a(41303),i=a(81611),s=a(15853),o=a(807),l=a(17782),c=a(24869),u=a(29514),d=a(61749),f=a(95602),m=a(44694),h=a(51280),b=a(54429),p=a(78764);let g=["blobVersionedHashes","chainId","fees","gas","nonce","type"],y=new Map;async function w(e,t){let a,w,{account:v=e.account,blobs:P,chain:x,gas:B,kzg:I,nonce:G,nonceManager:k,parameters:T=g,type:F}=t,N=v?(0,r.J)(v):v,E={...t,...N?{from:N?.address}:{}};async function M(){return a||(a=await (0,m.T)(e,s.g,"getBlock")({blockTag:"latest"}))}async function q(){return w||(x?x.id:void 0!==t.chainId?t.chainId:w=await (0,m.T)(e,p.T,"getChainId")({}))}if(T.includes("nonce")&&void 0===G&&N)if(k){let t=await q();E.nonce=await k.consume({address:N.address,chainId:t,client:e})}else E.nonce=await (0,m.T)(e,o.y,"getTransactionCount")({address:N.address,blockTag:"pending"});if((T.includes("blobVersionedHashes")||T.includes("sidecars"))&&P&&I){let e=(0,c.S)({blobs:P,kzg:I});if(T.includes("blobVersionedHashes")&&(E.blobVersionedHashes=(0,d.d)({commitments:e,to:"hex"})),T.includes("sidecars")){let t=(0,u.t)({blobs:P,commitments:e,kzg:I});E.sidecars=(0,f.T)({blobs:P,commitments:e,proofs:t,to:"hex"})}}if(T.includes("chainId")&&(E.chainId=await q()),(T.includes("fees")||T.includes("type"))&&void 0===F)try{E.type=(0,b.L)(E)}catch{let t=y.get(e.uid);if(void 0===t){let a=await M();t="bigint"==typeof a?.baseFeePerGas,y.set(e.uid,t)}E.type=t?"eip1559":"legacy"}if(T.includes("fees"))if("legacy"!==E.type&&"eip2930"!==E.type){if(void 0===E.maxFeePerGas||void 0===E.maxPriorityFeePerGas){let a=await M(),{maxFeePerGas:r,maxPriorityFeePerGas:i}=await (0,n.O)(e,{block:a,chain:x,request:E});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<i)throw new l.RR({maxPriorityFeePerGas:i});E.maxPriorityFeePerGas=i,E.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new l.pw;if(void 0===t.gasPrice){let t=await M(),{gasPrice:a}=await (0,n.O)(e,{block:t,chain:x,request:E,type:"legacy"});E.gasPrice=a}}return T.includes("gas")&&void 0===B&&(E.gas=await (0,m.T)(e,i.Q,"estimateGas")({...E,account:N?{address:N.address,type:"json-rpc"}:N})),(0,h.c)(E),delete E.parameters,E}},77032:(e,t,a)=>{a.d(t,{r:()=>n});var r=a(7672);async function n(e,{address:t,blockNumber:a,blockTag:n="latest"}){let i="bigint"==typeof a?(0,r.cK)(a):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,i||n]}))}},77262:(e,t,a)=>{a.d(t,{E:()=>r});let r=1},77665:(e,t,a)=>{a.d(t,{G:()=>o});let r=new Map,n=new Map;async function i(e,{cacheKey:t,cacheTime:a=Number.POSITIVE_INFINITY}){let i=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:a=>t.set(e,a)}),a=t(e,r),i=t(e,n);return{clear:()=>{a.clear(),i.clear()},promise:a,response:i}}(t),s=i.response.get();if(s&&a>0&&new Date().getTime()-s.created.getTime()<a)return s.data;let o=i.promise.get();o||(o=e(),i.promise.set(o));try{let e=await o;return i.response.set({created:new Date,data:e}),e}finally{i.promise.clear()}}let s=e=>`blockNumber.${e}`;async function o(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await i(()=>e.request({method:"eth_blockNumber"}),{cacheKey:s(e.uid),cacheTime:t}))}},78764:(e,t,a)=>{a.d(t,{T:()=>n});var r=a(64159);async function n(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,r.ME)(t)}},79992:(e,t,a)=>{a.d(t,{h:()=>i});var r=a(4062),n=a(73096);async function i(e,{hash:t}){let a=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!a)throw new r.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||n.uL)(a)}},80829:(e,t,a)=>{a.d(t,{$:()=>i,R:()=>s});var r=a(11394),n=a(12528);function i(e){let t=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,n.uP)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}let s=(0,r.q)("block",i)},81611:(e,t,a)=>{a.d(t,{Q:()=>w});var r=a(10599),n=a(46729),i=a(59829),s=a(7672),o=a(46172),l=a(49564),c=a(4062);class u extends n.C{constructor(e,{account:t,docsPath:a,chain:r,data:n,gas:i,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:f,to:m,value:h}){super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,c.aO)({from:t?.address,to:m,value:void 0!==h&&`${(0,o.c)(h)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:n,gas:i,gasPrice:void 0!==s&&`${(0,l.Q)(s)} gwei`,maxFeePerGas:void 0!==u&&`${(0,l.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,l.Q)(d)} gwei`,nonce:f})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=a(99498),f=a(33194),m=a(73325),h=a(21697),b=a(21377),p=a(51280),g=a(76174),y=a(77032);async function w(e,t){let{account:a=e.account}=t,o=a?(0,r.J)(a):void 0;try{let{accessList:a,authorizationList:r,blobs:c,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:w,gas:v,gasPrice:P,maxFeePerBlobGas:x,maxFeePerGas:B,maxPriorityFeePerGas:I,nonce:G,value:k,stateOverride:T,...F}=await (0,g.ft)(e,{...t,parameters:o?.type==="local"?void 0:["blobVersionedHashes"]}),N=("bigint"==typeof d?(0,s.cK)(d):void 0)||f,E=(0,b.yH)(T),M=await (async()=>F.to?F.to:r&&r.length>0?await (0,i.g)({authorization:r[0]}).catch(()=>{throw new n.C("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,p.c)(t);let q=e.chain?.formatters?.transactionRequest?.format,U=(q||h.Bv)({...(0,m.o)(F,{format:q}),from:o?.address,accessList:a,authorizationList:r,blobs:c,blobVersionedHashes:u,data:w,gas:v,gasPrice:P,maxFeePerBlobGas:x,maxFeePerGas:B,maxPriorityFeePerGas:I,nonce:G,to:M,value:k});function l(t){let{block:a,request:r,rpcStateOverride:n}=t;return e.request({method:"eth_estimateGas",params:n?[r,a??"latest",n]:a?[r,a]:[r]})}let C=BigInt(await l({block:N,request:U,rpcStateOverride:E}));if(r){let t=await (0,y.r)(e,{address:U.from}),a=await Promise.all(r.map(async e=>{let{address:a}=e,r=await l({block:N,request:{authorizationList:void 0,data:w,from:o?.address,to:a,value:(0,s.cK)(t)},rpcStateOverride:E}).catch(()=>100000n);return 2n*BigInt(r)}));C+=a.reduce((e,t)=>e+t,0n)}return C}catch(a){throw function(e,{docsPath:t,...a}){return new u((()=>{let t=(0,f.l)(e,a);return t instanceof d.RM?e:t})(),{docsPath:t,...a})}(a,{...t,account:o,chain:e.chain})}}},82330:(e,t,a)=>{a.d(t,{p:()=>s});var r=a(99498),n=a(4062),i=a(33194);function s(e,{docsPath:t,...a}){let s=(()=>{let t=(0,i.l)(e,a);return t instanceof r.RM?e:t})();return new n.$s(s,{docsPath:t,...a})}},95148:(e,t,a)=>{a.d(t,{L:()=>r});async function r(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}},95602:(e,t,a)=>{a.d(t,{T:()=>u});var r=a(24869),n=a(29514),i=a(13617),s=a(43506),o=a(14436),l=a(29966),c=a(7672);function u(e){let{data:t,kzg:a,to:u}=e,d=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),a="string"==typeof e.data?(0,l.aT)(e.data):e.data,r=(0,o.E)(a);if(!r)throw new i.zF;if(r>761855)throw new i.iq({maxSize:761855,size:r});let n=[],u=!0,d=0;for(;u;){let e=(0,s.l)(new Uint8Array(131072)),t=0;for(;t<4096;){let r=a.slice(d,d+31);if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),u=!1;break}t++,d+=31}n.push(e)}return"bytes"===t?n.map(e=>e.bytes):n.map(e=>(0,c.My)(e.bytes))}({data:t,to:u}),f=e.commitments??(0,r.S)({blobs:d,kzg:a,to:u}),m=e.proofs??(0,n.t)({blobs:d,commitments:f,kzg:a,to:u}),h=[];for(let e=0;e<d.length;e++)h.push({blob:d[e],commitment:f[e],proof:m[e]});return h}}}]);